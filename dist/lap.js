/*! For license information please see lap.js.LICENSE.txt */
(()=>{"use strict";var t={99:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(537),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,"*,*::before,*::after{box-sizing:border-box}#lap_in{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#fafffd;z-index:999999}#lap_in #lap_in_close{position:absolute;top:0;right:0;width:50px;height:50px;background-color:#64fcd8;z-index:999999;opacity:0;transition:opacity .5s;border:none;margin:2em;cursor:pointer;border-radius:10px}#lap_in #lap_in_iframe{height:100%;margin:auto;border:none;position:absolute;right:0;left:0}#lap_b{background-color:#fee;text-align:center;margin:1em}#lap_b #lap_b_iframe{width:100%;height:100%;border:none}.lap_n{cursor:pointer;direction:rtl;width:fit-content;border:1px solid silver}.lap_n h4,.lap_n p{margin:0}.lap_n .lap_n_image{width:250px}","",{version:3,sources:["webpack://./src/styles.scss"],names:[],mappings:"AAAA,qBACE,qBAAA,CAGF,QACI,cAAA,CACA,KAAA,CACA,MAAA,CACA,WAAA,CACA,YAAA,CACA,wBAAA,CACA,cAAA,CAEA,sBACI,iBAAA,CACA,KAAA,CACA,OAAA,CACA,UAAA,CACA,WAAA,CACA,wBAAA,CACA,cAAA,CACA,SAAA,CACA,sBAAA,CACA,WAAA,CACA,UAAA,CACA,cAAA,CACA,kBAAA,CAEJ,uBAEI,WAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,OAAA,CACA,MAAA,CAGR,OACI,qBAAA,CACA,iBAAA,CACA,UAAA,CACA,qBACI,UAAA,CACA,WAAA,CACA,WAAA,CAGR,OACI,cAAA,CACA,aAAA,CACA,iBAAA,CACA,uBAAA,CAEA,mBACI,QAAA,CAEJ,oBACI,WAAA",sourcesContent:["*, *::before, *::after {\n  box-sizing: border-box;\n}\n\n#lap_in {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background-color: #fafffd;\n    z-index: 999999;\n\n    #lap_in_close {\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 50px;\n        height: 50px;\n        background-color: #64fcd8;\n        z-index: 999999;\n        opacity: 0;\n        transition: opacity 0.5s;\n        border: none;\n        margin: 2em;\n        cursor: pointer;\n        border-radius: 10px;\n    }\n    #lap_in_iframe {\n        //max-width: 100%;\n        height: 100%;\n        margin: auto;\n        border: none;\n        position: absolute;\n        right: 0;\n        left: 0\n    }\n}\n#lap_b {\n    background-color: #ffeeee;\n    text-align: center;\n    margin: 1em;\n    #lap_b_iframe {\n        width: 100%;\n        height: 100%;\n        border: none\n    }\n}\n.lap_n {\n    cursor: pointer;\n    direction: rtl;\n    width: fit-content;\n    border: 1px solid #c0c0c0;\n\n    h4, p {\n        margin: 0;\n    }\n    .lap_n_image {\n        width: 250px\n    }\n}\n"],sourceRoot:""}]);const s=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);r&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},537:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */"),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(a).concat([o]).join("\n")}return[e].join("\n")}},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},a=[],s=0;s<t.length;s++){var c=t[s],u=r.base?c[0]+r.base:c[0],l=o[u]||0,h="".concat(u," ").concat(l);o[u]=l+1;var d=n(h),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var f=i(p,r);r.byIndex=s,e.splice(s,0,{identifier:h,updater:f,references:1})}a.push(h)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=n(o[a]);e[s].references--}for(var c=r(t,i),u=0;u<o.length;u++){var l=n(o[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=c}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{const t={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let e;const r=new Uint8Array(16);function i(){if(!e&&(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(r)}const o=[];for(let t=0;t<256;++t)o.push((t+256).toString(16).slice(1));const a=function(e,n,r){if(t.randomUUID&&!n&&!e)return t.randomUUID();const a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n){r=r||0;for(let t=0;t<16;++t)n[r+t]=a[t];return n}return function(t,e=0){return(o[t[e+0]]+o[t[e+1]]+o[t[e+2]]+o[t[e+3]]+"-"+o[t[e+4]]+o[t[e+5]]+"-"+o[t[e+6]]+o[t[e+7]]+"-"+o[t[e+8]]+o[t[e+9]]+"-"+o[t[e+10]]+o[t[e+11]]+o[t[e+12]]+o[t[e+13]]+o[t[e+14]]+o[t[e+15]]).toLowerCase()}(a)};function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"div",document.createElement("div")),c(this,"closeButton",document.createElement("button")),c(this,"iframe",document.createElement("iframe")),c(this,"url",null),c(this,"packageName",null),c(this,"uuid",null),c(this,"onload",(function(){setTimeout((function(){r.closeButton.style.opacity="1"}),3e3)})),this.url="https://ads-api.koshersvr.com/interstitial_ad/view?"+this.createParams(),this.packageName=e,this.uuid=n,this.show()}var e,n;return e=t,(n=[{key:"show",value:function(){this.create()}},{key:"hide",value:function(){document.body.removeChild(document.getElementById("lap_in"))}},{key:"create",value:function(){this.createDiv(),this.createIframe(),this.createCloseButton()}},{key:"createDiv",value:function(){this.div.id="lap_in",document.body.appendChild(this.div)}},{key:"createIframe",value:function(){this.iframe.src=this.url,this.iframe.id="lap_in_iframe",this.div.appendChild(this.iframe),this.iframe.onload=this.onload}},{key:"createCloseButton",value:function(){this.closeButton.id="lap_in_close",this.closeButton.innerText="X",this.closeButton.addEventListener("click",this.hide),this.div.appendChild(this.closeButton)}},{key:"createParams",value:function(){return new URLSearchParams({pkg:this.packageName,device_id:this.uuid}).toString()}}])&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function p(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var f=new WeakSet,v=new WeakSet,A=new WeakSet,m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default.web.pkg",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default-web-uuid",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.BANNER,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lap_b",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5?arguments[5]:void 0;l(this,t),d(this,A),d(this,v),d(this,f),this.size=r,this.uuid=n,this.pkg=e,this.reloadAuto=o,this.parentEl=a,this.bannerClass=i,p(this,f,y).call(this)}var e,n;return e=t,n=[{key:"setBanners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default.web.pkg",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default-web-uuid",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.BANNER,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lap_b",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=document.querySelectorAll("[data-lap-b]");a.forEach((function(a){var s=a.dataset.lapB||r;new t(e,n,s,i,o,a)}))}}],null&&h(e.prototype,null),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(){this.parentEl.id="lap_b",this.parentEl.classList.add(this.bannerClass);var t=w[this.size.toUpperCase()]||w.BANNER;this.parentEl.style.width=t.width,this.parentEl.style.height=t.height,this.parentEl.appendChild(p(this,v,g).call(this))}function g(){var t=document.createElement("iframe");return t.src="https://ads-api.koshersvr.com/banner_ad/view?"+p(this,A,b).call(this),t.id="lap_b_iframe",t.onerror=function(){return t.style.display="none"},t}function b(){return new URLSearchParams({size:this.size||"BANNER",pkg:this.pkg,device_id:this.uuid,reload_auto:this.reloadAuto}).toString()}var w={BANNER:{width:"320px",height:"50px"},LARGE_BANNER:{width:"320px",height:"100px"},MEDIUM_RECTANGLE:{width:"300px",height:"250px"}};function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function _(){_=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function d(){}function p(){}var f={};s(f,i,(function(){return this}));var v=Object.getPrototypeOf,A=v&&v(v(k([])));A&&A!==e&&n.call(A,i)&&(f=A);var m=p.prototype=h.prototype=Object.create(f);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function r(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==C(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,s(m,"constructor",p),s(p,"constructor",d),d.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(g.prototype),s(g.prototype,o,(function(){return this})),t.AsyncIterator=g,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new g(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(m),s(m,a,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function x(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function E(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){x(o,r,i,a,s,"next",t)}function s(t){x(o,r,i,a,s,"throw",t)}a(void 0)}))}}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var L=function(){function t(e,n,r,i){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url="https://ads-api.koshersvr.com/native_ad",this.pkg=e,this.uuid=n,this.el=i,this.nativeClass=r,this.el&&(this.fetch().then((function(){return o.build()})),this.scrollListener=function(){return o.impression()},window.addEventListener("scroll",this.scrollListener,{passive:!0}))}var e,n,r;return e=t,n=[{key:"fetch",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(E(_().mark((function t(){var e,n;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.url+"?"+this.getParams(),t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.json();case 6:this.data=t.sent;case 7:case"end":return t.stop()}}),t,this)}))))},{key:"build",value:function(){var t=this;this.el.classList.add(this.nativeClass),this.el.style.cursor="pointer";var e=document.createElement("h4");e.innerText=this.data.title||"Title",e.classList.add("lap_n_title");var n=document.createElement("p");n.innerText=this.data.content||null,n.classList.add("lap_n_content");var r=document.createElement("div");r.classList.add("lap_n_text"),r.appendChild(e),r.appendChild(n);var i=document.createElement("img");i.src=this.data.image_url||"",i.classList.add("lap_n_image"),this.el.appendChild(r),this.el.appendChild(i),this.el.addEventListener("click",(function(){return window.open(t.data.url)}))}},{key:"getParams",value:function(){return new URLSearchParams({pkg:this.pkg,device_id:this.uuid}).toString()}},{key:"getImpressionParams",value:function(){return new URLSearchParams({pkg:this.pkg,device_id:this.uuid,id:this.data.id,name:this.data.name,campaign:this.data.campaign}).toString()}},{key:"impression",value:function(){if(this.isVisible()){window.removeEventListener("scroll",this.scrollListener);var t=this.url+"/impression?"+this.getImpressionParams();fetch(t)}}},{key:"isVisible",value:function(){var t=this.el.getBoundingClientRect(),e=Math.max(document.documentElement.clientHeight,window.innerHeight);return!!(this.el.offsetWidth||this.el.offsetHeight||this.el.getClientRects().length)&&!(t.bottom<0||t.top-e>=0)}}],r=[{key:"setNatives",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default.web.pkg",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default-web-uuid",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"lap_n",i=document.querySelectorAll("[data-lap-n]");i.forEach((function(i){new t(e,n,r,i)}))}}],n&&k(e.prototype,n),r&&k(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),S=n(379),B=n.n(S),N=n(795),j=n.n(N),I=n(569),R=n.n(I),P=n(565),O=n.n(P),T=n(216),U=n.n(T),z=n(589),W=n.n(z),M=n(99),G={};function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t,e){q(t,e),e.add(t)}function q(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function H(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,n)}function V(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}G.styleTagTransform=W(),G.setAttributes=O(),G.insert=R().bind(null,"head"),G.domAPI=j(),G.insertStyleElement=U(),B()(M.Z,G),M.Z&&M.Z.locals&&M.Z.locals;var Z=new WeakSet,J=new WeakMap,Y=new WeakSet,K=function(){function t(e,n){var r,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),F(this,Y),F(this,Z),i={writable:!0,value:function(t,e){return document.cookie="".concat(t,"=").concat(e)}},q(this,r=J),r.set(this,i),this.pkg=e,this.uuid=V(this,Y,X).call(this),this.visitsCount=n.visitsCount,this.autoRender=n.autoRender,this.defaultBannerSize=n.defaultBannerSize,this.bannerClass=n.bannerClass,this.nativeClass=n.nativeClass,this.initIN(),m.setBanners(this.pkg,this.uuid,this.defaultBannerSize,this.bannerClass,this.autoRender),L.setNatives(this.pkg,this.uuid,this.nativeClass)}var e,n;return e=t,(n=[{key:"initIN",value:function(){var t=V(this,Z,Q).call(this,"lap_c");t?H(this,J).call(this,"lap_c",parseInt(t)+1):H(this,J).call(this,"lap_c",0),t>this.visitsCount-1&&(new u(this.pkg,this.uuid),H(this,J).call(this,"lap_c",0))}}])&&D(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Q(t){var e="; ".concat(document.cookie).split("; ".concat(t,"="));if(2===e.length)return e.pop().split(";").shift()}function X(){return V(this,Z,Q).call(this,"lap_u")||(this.uuid=a(),H(this,J).call(this,"lap_u",this.uuid),this.uuid)}document.initLap=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("Lap initialized"),(e=e||{}).visitsCount=e.visitsCount||4,e.autoRender=e.autoRender||!0,e.defaultBannerSize=e.defaultBannerSize||"BANNER",e.bannerClass=e.bannerClass||"lap-b",e.nativeClass=e.nativeClass||"lap-n",document.lap={object:new K(t,e),version:"1.0.0",status:"initialized"}}})()})();
//# sourceMappingURL=lap.js.map